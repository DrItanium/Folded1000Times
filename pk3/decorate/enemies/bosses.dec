ACTOR EmperorDummy
{
    Alpha 1.0
    Renderstyle "Translucent"
    +CLIENTSIDEONLY
    +NOINTERACTION
    States
    {
    Spawn:
        EPRR AAAAAAAAAA 3 A_FadeOut(0.1)
        stop
    }
}

ACTOR EmperorDummy2
{
    Alpha 1.0
    Renderstyle "Translucent"
    +CLIENTSIDEONLY
    +NOINTERACTION
    States
    {
    Spawn:
        EPRR FFFFFFFFFF 3 A_FadeOut(0.1)
        stop
    }
}

ACTOR Emperor replaces SpiderMastermind
{
    Health 3000
    PainChance 40
    Speed 16 
    Radius 40 
    Height 96 
    Mass 1000
    SeeSound "emperor/sight" 
    PainSound "emperor/pain" 
    DeathSound "emperor/death" 
    ActiveSound "emperor/idle"
    PainChance "IronFistDamage", 255
    PainChance "KubiSpinAttack", 255
    PainChance "KubiLungeAttack", 255
    PainChance "KubiRangeAttack", 255
    PainChance "HaltHammerzeitImpact", 255
    PainChance "SabbathDamage", 96
    DamageFactor "GuardMove", 0.0
    DamageFactor "ArchvileFire", 0.0
    DamageFactor "ExodusJump", 0.0
    Species "Body"
    Monster
    +FLOORCLIP
    +MISSILEMORE
    +MISSILEEVENMORE
    +BOSSDEATH
    +DONTRIP
    Obituary "%o was sent towards the pantheons by an Emperor."
    States 
    { 
    Spawn: 
        EPRR A 10 A_Look 
        Loop 
    See: 
        EPRR AABBCCDD 2 A_Chase 
        TNT1 A 0 A_Jump(64,"Teleport")
        Loop
    Teleport:
        TNT1 A 0 A_SpawnItemEx("EmperorDummy",0,0,0,0,0,0,0,160)
        EPRR A 1
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
        goto See
    Missile:
        TNT1 A 0 A_Jump(80,"Missile2")
    Missile1:
        TNT1 A 0 Bright A_FaceTarget
        EPRR F 10 Bright A_PlaySound("emperor/attack")
        TNT1 A 0 A_Jump(256,"StrafeLeft","StrafeRight","JumpBack","StrafeLeft","StrafeRight","JumpBack","Missile1b","TeleportShot")
    StrafeLeft:
        TNT1 A 0 ThrustThingZ(0,random(20,30),0,1)
	    TNT1 A 0 ThrustThing(angle*256/360+192,random(16,24),0,0)
	    goto Missile1B
    JumpBack:
        TNT1 A 0 ThrustThingZ(0,random(40,60),0,1)
	    TNT1 A 0 ThrustThing(angle*256/360+128,random(16,24),0,0)
        goto Missile1B
    StrafeRight:
        TNT1 A 0 ThrustThingZ(0,random(20,30),0,1)
	    TNT1 A 0 ThrustThing(angle*256/360+64,random(16,24),0,0)
        goto Missile1B
    TeleportShot:
        TNT1 A 0 A_SpawnItemEx("EmperorDummy2",0,0,0,0,0,0,0,160)
        EPRR F 1
        TNT1 A 1
        TNT1 AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA 0 A_Wander
        EPRR F 3
    Missile1B:
        EPRR E 2 A_FaceTarget
        TNT1 A 0 A_PlaySoundEx("wizard/shotpew","soundslot6",0,0)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,0)
        EPRR E 1 BRIGHT
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,6)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,-6)
        EPRR E 3 BRIGHT
        EPRR E 2 A_FaceTarget
        TNT1 A 0 A_PlaySoundEx("wizard/shotpew","soundslot6",0,0)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,0)
        EPRR E 1 Bright
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,6)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,-6)
        EPRR E 3 BRIGHT
        EPRR E 2 A_FaceTarget
        TNT1 A 0 A_PlaySoundEx("wizard/shotpew","soundslot6",0,0)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,0)
        EPRR E 1 BRIGHT
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,6)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,-6)
        EPRR E 3 BRIGHT
        EPRR E 2 A_FaceTarget
        TNT1 A 0 A_PlaySoundEx("wizard/shotpew","soundslot6",0,0)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,0)
        EPRR E 1 BRIGHT
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,6)
        TNT1 A 0 A_CustomMissile("EmperorShotSpell",56,0,-6)
        EPRR E 3 BRIGHT
        goto See
    Missile2:
        TNT1 A 0 Bright A_FaceTarget
        EPRR F 1 Bright A_PlaySound("emperor/charge")
        EPRR FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 1 Bright A_CustomMissile("EmperorHailSpell",100,0,random(-180,180),2,random(35,70))
        EPRR FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF 1 Bright A_CustomMissile("EmperorHailSpell",100,0,random(-180,180),2,random(35,70))
        EPRR F 1 Bright
        Goto See
    Pain.KubiLungeAttack:
    Pain.KubiSpinAttack:
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("HyperComboCounter",1)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
        goto Pain
    Pain.KubiRangeAttack:
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
        goto Pain
    Pain: 
        EPRR G 2 
        EPRR G 2 A_Pain 
        Goto See
    Death.IronFistDamage:
    Death.Kubiuti:
        TNT1 A 0 A_AlertMonsters
        TNT1 AAAAAAAAAA 0 A_CustomMissile("SoulAmmo",random(24,42),random(-10,10),random(-180,180),0,random(-32,90))
        goto Death
    Death.KubiRangeAttack:
    Death.KubiLungeAttack:
    Death.KubiSpinAttack:
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("HyperComboCounter",2)
        //TNT1 A 0 A_GiveToTarget("SuperMeterCounter",5)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
    Death:
        EPRR H 5 Bright
        EPRR I 5 Bright
        TNT1 A 0 A_Scream
        TNT1 AAAAAAA 0 A_SpawnItemEx("WizardPuff",0,0,40,random(-80,80)/100.00,random(-80,80)/100.00,random(25,100)/100.00,random(-180,180),160)
        EPRR JJJJJ 1 Bright A_SpawnItemEx("WizardTrail1",random(-1000,1000)/100.00,random(-1000,1000)/100.00,random(15,40),random(-500,500)/100.00,random(-500,500)/100.00,random(-500,500)/100.00,random(-180,180),160)
        EPRR KKKKKLLLLLMMMMMNNNNNOOOOOPPPPPQQQQQRRRRRSSSSSTTTTT 1 Bright A_SpawnItemEx("WizardTrail1",random(-1000,1000)/100.00,random(-1000,1000)/100.00,random(15,40),random(-500,500)/100.00,random(-500,500)/100.00,random(-500,500)/100.00,random(-180,180),160)
        TNT1 A 0 A_NoBlocking
        EPRR UUUUU 1 Bright A_SpawnItemEx("WizardTrail1",random(-1000,1000)/100.00,random(-1000,1000)/100.00,random(15,40),random(-500,500)/100.00,random(-500,500)/100.00,random(-500,500)/100.00,random(-180,180),160)
        EPRR VVVVVWWWWWXXXXXYYYYY 1 Bright //A_SpawnItemEx("WizardTrail1",random(-1000,1000)/100.00,random(-1000,1000)/100.00,random(15,40),random(-500,500)/100.00,random(-500,500)/100.00,random(-500,500)/100.00,random(-180,180),160)
        EPRR Z -1 Bright A_BossDeath
        Stop
    } 
}

actor EmperorShotSpell : WizardSpell { +HEXENBOUNCE +SKYEXPLODE Speed 25 BounceCount 3 }
actor EmperorHailSpell : EmperorShotSpell { -NOGRAVITY }

actor WeeabooCyberdemon : Cyberdemon replaces Cyberdemon
{
    Scale 1.1
    PainChance "IronFistDamage", 255
    PainChance "SabbathDamage", 96
    DamageFactor "GuardMove", 0.0
    DamageFactor "ArchvileFire", 0.0
    DamageFactor "ExodusJump", 0.0
    DamageFactor "EnemyInfightDamageCyber", 0.0
    +DONTRIP
    +MISSILEMORE
    +MISSILEEVENMORE
    States
    {
    Missile:
        TNT1 A 0 A_JumpIfCloser(1024,"Missile2")
        POSS E 0 A_PlaySoundEx("cyber/laserfire","soundslot6",0,0)
        CYBR F 4 BRIGHT A_CustomMissile("EnemyBullet2",50,-21,0,0,0)
        CYBR E 4 A_FaceTarget
        TNT1 A 0 A_CPosRefire
        goto Missile
    Missile2:
        TNT1 A 0 A_PlaySound("cyberdemn/gunready")
        CYBR E 25 A_FaceTarget
        TNT1 A 0 A_FaceTarget
        CYBR F 12 BRIGHT A_CustomMissile("CyberRocket",50,-21,0,0,0)
        CYBR E 12 A_FaceTarget
        CYBR F 12 BRIGHT A_CustomMissile("CyberRocket",50,-21,0,0,0)
        CYBR E 12 A_FaceTarget
        CYBR F 12 BRIGHT A_CustomMissile("CyberRocket",50,-21,0,0,0)
        Goto See
    Pain.KubiLungeAttack:
    Pain.KubiSpinAttack:
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
        goto Pain
    Pain.KubiRangeAttack:
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
        goto Pain
    Pain.SabbathDamage:
        CYBR G 6
        CYBR G 6 A_Pain
        Goto See
    Death.KubiRangeAttack:
    Death.KubiLungeAttack:
    Death.KubiSpinAttack:
        TNT1 A 0 A_AlertMonsters
        //TNT1 A 0 A_GiveToTarget("SuperMeterCounter",5)
        TNT1 A 0 A_PlaySoundEx("sword/hit","soundslot5",0,0)
        TNT1 A 0 A_GiveToTarget("MidCombat",75)
        goto Super::Death
    Death.IronFistDamage:
    Death.Kubiuti:
        CYBR G 1
        TNT1 A 0 A_AlertMonsters
        TNT1 AAAAAAAAAA 0 A_CustomMissile("SoulAmmo",random(24,42),random(-10,10),random(-180,180),0,random(-32,90))//A_GiveToTarget("SuperMeterCounter",10)
        goto Super::Death
    }
}

actor CyberRocket : Rocket //replaces Rocket
{
    Health 5
    DeathSound "cyber/rockethit"
    Species "EnemyShot"
    DamageFactor "EnemyInfightDamage", 0.0
    DamageFactor "EnemyInfightDamageImp", 0.0
    DamageFactor "EnemyInfightDamageArachnotron", 0.0
    DamageFactor "EnemyInfightDamageNoble", 0.0
    DamageFactor "EnemyInfightDamageRevenant", 0.0
    DamageFactor "EnemyInfightDamageFatso", 0.0
    DamageFactor "EnemyInfightDamageCaco", 0.0
    DamageFactor "EnemyInfightDamageCyber", 0.0
    DamageFactor "ArchvileFire", 0.0
    DamageFactor "HaltHammerzeit", 0.0
    DamageFactor "ExodusJump", 0.0
    DamageFactor "ExodusDamage", 0.0
    DamageFactor "Kubiuti", 0.0
    DamageFactor "IronFistExplode", 0.0
    DamageFactor "HaltHammerzeitImpact", 0.0
    +THRUSPECIES
    +SHOOTABLE
    +THRUGHOST
    -NOBLOCKMAP 
    +NOBLOOD
    -FIREDAMAGE
    DamageType "EnemyInfightDamageCyber"
    States
    {
    Spawn:
        CBMS A 1 Bright A_CustomMissile("ExodusRocketFlameSpawner",2,0,0,0)
        Loop
    Death:
        TNT1 A 0 A_Scream
        TNT1 A 0 A_Explode(128,128,0)
        TNT1 A 0 Radius_Quake(5,3,0,8,0)
        TNT1 A 0 A_ChangeFlag("NOGRAVITY",1)
        TNT1 A 0 A_UnsetShootable
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("Firetrail",0,0,0,random(-100,100)/10.0,random(-100,100)/10.0,random(-100,100)/10.0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("Firetrail",0,0,0,random(-100,100)/10.0,random(-100,100)/10.0,random(-100,100)/10.0)
        TNT1 AAA 0 A_SpawnItemEx("MissileExplosionSmall",0,0,0,0,0,0,0,160)
        TNT1 AA 0 A_SpawnItemEx("MissileExplosionLarge",0,0,0,0,0,0,0,160)
        TNT1 AA 0 A_SpawnItemEx("MissileExplosionSmall",random(-50,50)/100.00,random(-50,50)/100.00,random(-50,50)/100.00,random(-250,250)/100.00,random(-250,250)/100.00,random(-250,250)/100.00,random(-180,180),160)
        TNT1 A 0 A_SpawnItemEx("MissileExplosionLarge",random(-50,50)/100.00,random(-50,50)/100.00,random(-50,50)/100.00,random(-250,250)/100.00,random(-250,250)/100.00,random(-250,250)/100.00,random(-180,180),160)
        TNT1 A 1
        Stop
    }
}