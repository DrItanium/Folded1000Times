actor 05Dragon : Fists
{
    Tag "05-D Dragon"
    Weapon.SlotNumber 5
    Weapon.AmmoUse2 1
    Weapon.AmmoGive2 5
    Weapon.AmmoType2 "WeebRocket"
    States
    {
    Ready: // If only A_JumpIfNoAmmo recognized alt-fire ammo outside of the alt-fire states.
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"ReadyAmmo")
    ReadyEmpty:
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        // There's finer inventory manipulation down the line, but these are
        // for brute-force just-in-case checking.
        W4GR Y 1 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("WaitingTooLong",0,"IdleAnimation")
        TNT1 A 0 A_JumpIfInventory("SwapToHaggarMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToRangedMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToTricksterMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToBFGMode",1,"MastodonStyleSwap")
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"ReadyGotAmmoAgain")
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"AltFire3")
        Loop
    ReadyAmmo:
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR A 1 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("WaitingTooLong",0,"IdleAnimation")
        TNT1 A 0 A_JumpIfInventory("SwapToHaggarMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToRangedMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToTricksterMode",1,"StyleSwap")
        TNT1 A 0 A_JumpIfInventory("SwapToBFGMode",1,"MastodonStyleSwap")
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"AltFire2")
        loop
    ReadyGotAmmoAgain:
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 2
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBBAA 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    Select:
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"SelectAmmo")
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 AAAA 0 A_Raise
        W4GR Y 1 A_Raise
        loop
    SelectAmmo:
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        TNT1 AAAA 0 A_Raise
        W4GR A 1 A_Raise
        loop
    Deselect:
        TNT1 A 0 A_TakeInventory("WaitingTooLong",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SheatheSwung",1)
        TNT1 A 0 A_TakeInventory("KharonSwung",1)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"DeselectAmmo")
        TNT1 AAAA 0 A_Lower
        W4GR Y 1 A_Lower
        Loop
    DeselectAmmo:
        TNT1 AAAA 0 A_Lower
        W4GR A 1 A_Lower
        Loop
    StyleSwap:
        TNT1 A 0 A_GiveInventory("StyleSwapping",1)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"StyleSwapAmmo")
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto StyleSwapBegin
    StyleSwapAmmo:
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
    StyleSwapBegin:
        TNT1 A 1
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        STYL ABBCCC 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL D 5 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        STYL EEFGG 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL G 5 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/open","soundslot5",0,0)
        STYL HHHIIIIII 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("styleswap/rev")
        STYL JJKLMMMM 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL NNOOOPPP 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL P 4 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        STYL QRS 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/insert","soundslot6",0,0)
        STYL S 4 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL T 3 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL UVWXY 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("styleswap/elec")
        STYL Z 2 BRIGHT A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL [ 2 BRIGHT A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        STYL ] 2 BRIGHT A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/transform","soundslot5",0,0)
        TNT1 A 0 A_SetBlend("white",1.0,70)
        STYL ] 2 BRIGHT A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH) // Just in case the SetBlend comes a tic or two too late.
        TNT1 A 0 A_JumpIfInventory("SwapToHaggarMode",1,"StyleSwapHaggarFinish")
        TNT1 A 0 A_JumpIfInventory("SwapToRangedMode",1,"StyleSwapRangedFinish")
        TNT1 A 0 A_JumpIfInventory("SwapToTricksterMode",1,"StyleSwapTricksterFinish")
        TNT1 A 5 // Failsafe in case it doesn't work.
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        goto Ready
    StyleSwapHaggarFinish:
        TNT1 A 0 ACS_ExecuteAlways(362,0,2,0,0)
        TNT1 A 0 A_TakeInventory("BFGModeOn",1)
        TNT1 A 0 A_GiveInventory("HaggarModeOn",1)
        TNT1 A 0 A_TakeInventory("RangedModeOn",1)
        TNT1 A 0 A_TakeInventory("TricksterModeOn",1)
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        TNT1 A 0 A_GiveInventory("SwapCooldown",210)
        goto StyleSwapFinish
    StyleSwapRangedFinish:
        TNT1 A 0 ACS_ExecuteAlways(362,0,2,1,0)
        TNT1 A 0 A_TakeInventory("BFGModeOn",1)
        TNT1 A 0 A_TakeInventory("HaggarModeOn",1)
        TNT1 A 0 A_GiveInventory("RangedModeOn",1)
        TNT1 A 0 A_TakeInventory("TricksterModeOn",1)
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        TNT1 A 0 A_GiveInventory("SwapCooldown",210)
        goto StyleSwapFinish
    StyleSwapTricksterFinish:
        TNT1 A 0 ACS_ExecuteAlways(362,0,2,2,0)
        TNT1 A 0 A_TakeInventory("BFGModeOn",1)
        TNT1 A 0 A_TakeInventory("HaggarModeOn",1)
        TNT1 A 0 A_TakeInventory("RangedModeOn",1)
        TNT1 A 0 A_GiveInventory("TricksterModeOn",1)
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        TNT1 A 0 A_GiveInventory("SwapCooldown",210)
        goto StyleSwapFinish
    StyleSwapFinish:
        TNT1 A 5
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"StyleSwapFinishAmmo")
        W4GR VWXXA 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto ReadyEmpty
    StyleSwapFinishAmmo:
        W4GR DCBBA 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto ReadyAmmo
    MastodonStyleSwap:
        TNT1 A 0 A_GiveInventory("StyleSwapping",1)
        TNT1 A 0 A_PlaySoundEx("mastodon/alert","soundslot7",0,0)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"MastodonStyleSwapAmmo")
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto MastodonStyleSwapBegin
    MastodonStyleSwapAmmo:
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
    MastodonStyleSwapBegin:
        TNT1 A 15
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        MSDR ABBCCC 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH | WRF_NOBOB)
        MSDR D 5 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        MSDR EEFGG 1 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR G 5 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/open","soundslot5",0,0)
        MSDR HHHIIIIII 1 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        // Here's where the plug-in begins
        MSDR J 2 //A_Weaponready(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("mastodon/plug")
        MSDR KLMN 1 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR O 6 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("EquippedMastodonOnce",1,"EquippedMastoStyleFinish")
        TNT1 A 0 A_GunFlash
        TNT1 A 0 A_PlaySoundEx("mastodon/beeplong","soundslot6",0,0)
        MSDR PQRSTUPQRSTUPQRSTUVWX 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR O 5 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR Y 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("styleswap/elec")
        MSDR Z 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR [ 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/transform","soundslot5",0,0)
        TNT1 A 0 A_SetBlend("CCFF66",0.25,35)
        TNT1 A 4 // Failsafe in case it doesn't work.
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("HaggarModeOn",1)
        TNT1 A 0 A_TakeInventory("RangedModeOn",1)
        TNT1 A 0 A_TakeInventory("TricksterModeOn",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        TNT1 A 0 A_GiveInventory("SwapCooldown",210)
        TNT1 A 0 A_GiveInventory("BFGModeOn",1)
        TNT1 A 0 A_GiveInventory("00Mastodon",1)
        TNT1 A 0 A_SelectWeapon("00Mastodon")
        TNT1 A 1
        TNT1 A 0 A_TakeInventory("Fists",1)
        TNT1 A 0 A_TakeInventory("01Tiger",1)
        TNT1 A 0 A_TakeInventory("02Viper",1)
        TNT1 A 0 A_TakeInventory("03Wolf",1)
        TNT1 A 0 A_TakeInventory("04Scorpions",1)
        //TNT1 A 0 A_TakeInventory("05Dragon",1)
        TNT1 A 0 A_PlaySoundEx("mastodon/lift","soundslot5",0,0)
        MSL1 ABCD 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("mastodon/longassemble")
        MSL1 EFG 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL1 HIJ 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL1 KLM 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL1 NOPQRST 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL1 VW 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL1 XYZ 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSL2 ABCDEF 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_GiveInventory("EquippedMastodonOnce",1)
        TNT1 A 0 ACS_ExecuteAlways(362,0,2,3,0)
        TNT1 A 0 ACS_ExecuteAlways(362,0,6,0,0)
        TNT1 A 0 A_TakeInventory("WaitingTooLong",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SheatheSwung",1)
        TNT1 A 0 A_TakeInventory("KharonSwung",1)
        TNT1 A 0 A_TakeInventory("TriumphSwung",1)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_SetBlend("CCFF66",1.0,70)
        MSTO A 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH) // One frame buffer in case the A_SetBlend comes one tic late
        TNT1 A 0 A_TakeInventory("05Dragon",1)
        MSTO A 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto Deselect
    EquippedMastoStyleFinish:
        // beep boop
        TNT1 A 0 A_PlaySoundEx("mastodon/beepshort","soundslot6",0,0)
        MSDR PQRSTUVWX 1 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR O 5 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        MSDR Y 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("styleswap/elec")
        MSDR Z 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSDR [ 2 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("styleswap/transform","soundslot5",0,0)
        TNT1 A 0 A_SetBlend("CCFF66",0.25,35)
        TNT1 A 4 // Failsafe in case it doesn't work.
        TNT1 A 0 A_TakeInventory("SwapToHaggarMode",1)
        TNT1 A 0 A_TakeInventory("SwapToRangedMode",1)
        TNT1 A 0 A_TakeInventory("SwapToTricksterMode",1)
        TNT1 A 0 A_TakeInventory("SwapToBFGMode",1)
        TNT1 A 0 A_TakeInventory("HaggarModeOn",1)
        TNT1 A 0 A_TakeInventory("RangedModeOn",1)
        TNT1 A 0 A_TakeInventory("TricksterModeOn",1)
        TNT1 A 0 A_TakeInventory("StyleSwapping",1)
        TNT1 A 0 A_GiveInventory("SwapCooldown",210)
        TNT1 A 0 A_GiveInventory("BFGModeOn",1)
        TNT1 A 0 A_GiveInventory("00Mastodon",1)
        TNT1 A 0 A_SelectWeapon("00Mastodon")
        TNT1 A 1
        TNT1 A 0 A_TakeInventory("Fists",1)
        TNT1 A 0 A_TakeInventory("01Tiger",1)
        TNT1 A 0 A_TakeInventory("02Viper",1)
        TNT1 A 0 A_TakeInventory("03Wolf",1)
        TNT1 A 0 A_TakeInventory("04Scorpions",1)
        //TNT1 A 0 A_TakeInventory("05Dragon",1)
        TNT1 A 0 A_PlaySoundEx("mastodon/lift","soundslot6",0,0)
        MSSH ABC 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("mastodon/shortassemble")
        MSSH D 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 //A_PlaySound of shit clacking
        MSSH EFG 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MSSH HIJK 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 ACS_ExecuteAlways(362,0,2,3,0)
        TNT1 A 0 ACS_ExecuteAlways(362,0,6,0,0)
        TNT1 A 0 A_TakeInventory("WaitingTooLong",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SheatheSwung",1)
        TNT1 A 0 A_TakeInventory("KharonSwung",1)
        TNT1 A 0 A_TakeInventory("TriumphSwung",1)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_SetBlend("CCFF66",1.0,70)
        MSTO A 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH) // One frame buffer in case the A_SetBlend comes one tic late
        TNT1 A 0 A_TakeInventory("05Dragon",1)
        MSTO A 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto Deselect
    Flash:
        MSOS ABCDEFGHIJKLMNOPQRSTUVW 2 BRIGHT
        stop
    IdleAnimation:
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"IdleAnimationAmmo")
        W4GR AXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto IdleAnimationForReal
    IdleAnimationAmmo:
        W4GR ABCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto IdleAnimationForReal
    IdleAnimationForReal:
        TNT1 A 5
        TNT1 A 0 ACS_ExecuteAlways(275,0,3,0,0)
        TNT1 A 1 A_SetBlend("Black",0.025,2)
        TNT1 A 1 A_SetBlend("Black",0.05,2)
        TNT1 A 1 A_SetBlend("Black",0.075,2)
        TNT1 A 1 A_SetBlend("Black",0.1,2)
        TNT1 A 1 A_SetBlend("Black",0.125,2)
        TNT1 A 1 A_SetBlend("Black",0.15,2)
        TNT1 A 1 A_SetBlend("Black",0.175,2)
        TNT1 A 1 A_SetBlend("Black",0.2,2)
        TNT1 A 1 A_SetBlend("Black",0.225,2)
        TNT1 A 1 A_SetBlend("Black",0.25,2)
        TNT1 A 1 A_SetBlend("Black",0.275,2)
        TNT1 A 1 A_SetBlend("Black",0.3,2)
        TNT1 A 1 A_SetBlend("Black",0.325,2)
        TNT1 A 1 A_SetBlend("Black",0.35,2)
        TNT1 A 1 A_SetBlend("Black",0.375,2)
        TNT1 A 1 A_SetBlend("Black",0.4,2)
        TNT1 A 1 A_SetBlend("Black",0.425,2)
        TNT1 A 1 A_SetBlend("Black",0.45,2)
        TNT1 A 1 A_SetBlend("Black",0.475,2)
        TNT1 A 1 A_SetBlend("Black",0.5,2)
        TNT1 A 1 A_SetBlend("Black",0.525,2)
        TNT1 A 1 A_SetBlend("Black",0.55,2)
        TNT1 A 1 A_SetBlend("Black",0.575,2)
        TNT1 A 1 A_SetBlend("Black",0.6,2)
        TNT1 A 1 A_SetBlend("Black",0.625,2)
        TNT1 A 1 A_SetBlend("Black",0.65,2)
        TNT1 A 1 A_SetBlend("Black",0.675,2)
        TNT1 A 1 A_SetBlend("Black",0.7,2)
        TNT1 A 1 A_SetBlend("Black",0.725,2)
        TNT1 A 1 A_SetBlend("Black",0.75,2)
        TNT1 A 1 A_SetBlend("Black",0.775,2)
        TNT1 A 1 A_SetBlend("Black",0.8,2)
        TNT1 A 1 A_SetBlend("Black",0.825,2)
        TNT1 A 1 A_SetBlend("Black",0.85,2)
        TNT1 A 1 A_SetBlend("Black",0.875,2)
        TNT1 A 1 A_SetBlend("Black",0.9,2)
    Idling:
        TNT1 A 1 A_SetBlend("Black",0.9,2)
        TNT1 A 0 A_JumpIfInventory("StartedToSleep",75,"SleepIdle")
        TNT1 A 0 A_GiveInventory("StartedToSleep",1)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("SynthAltFire",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("WaitingTooLong",0,"Idling")
        TNT1 A 1 A_SetBlend("Black",0.9,2)
    WakeUp:
        TNT1 A 0 ACS_ExecuteAlways(275,0,3,1,0)
        TNT1 A 0 A_TakeInventory("WaitingTooLong",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SleepCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SnoreCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("StartedToSleep",0x7FFFFFFF)
        TNT1 A 1 A_SetBlend("Black",0.9,35)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"WakeUpAmmo")
        W4GR VWXA 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto Ready
    WakeUpAmmo:
        W4GR DCBA 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto Ready
    SleepIdle:
        TNT1 A 0 A_TakeInventory("SleepCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SnoreCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("StartedToSleep",0x7FFFFFFF)
        TNT1 A 0 A_PlaySoundEx("shihong/snore","soundslot6",0,0)
        TNT1 A 0 A_SpawnItemEx("SnoreZ",0,0,52,frandom(-0.05,0.05),frandom(-0.05,0.05),0.25,0,160)
    SleepIdle1:
        TNT1 A 1 A_SetBlend("Black",0.9,2)
        TNT1 A 0 A_JumpIfInventory("SleepCounter",35,"SleepIdle0")
        TNT1 A 0 A_GiveInventory("SleepCounter",1)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("SynthAltFire",1,"WakeUp")
        TNT1 A 0 A_JumpIfInventory("WaitingTooLong",0,"SleepIdle1")
        TNT1 A 1 A_SetBlend("Black",0.9,2)
        goto WakeUp
    SleepIdle0:
        TNT1 A 0 A_JumpIfInventory("SnoreCounter",4,"SleepIdle")
        TNT1 A 0 A_SpawnItemEx("SnoreZ",0,0,52,frandom(-0.05,0.05),frandom(-0.05,0.05),0.25,0,160)
        TNT1 A 0 A_TakeInventory("SleepCounter",0x7FFFFFFF)
        TNT1 A 0 A_GiveInventory("SnoreCounter",1)
        goto SleepIdle1

    Fire:
        TNT1 A 0 A_JumpIfInventory("Grappling",1,"CancelGrapple")
        TNT1 A 0 A_JumpIfInventory("ShootingLikeABaka",1,"FirePrep")
        TNT1 A 0 A_JumpIfInventory("SlashingLikeAGaijin",1,"PunchPrep")
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,"FirePrepAmmo")
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 1 A_GiveInventory("SlashingLikeAGaijin",1)
        goto PunchPrep
    FirePrepAmmo:
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 1 A_GiveInventory("SlashingLikeAGaijin",1)
        goto PunchPrep
    FirePrep:
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_GiveInventory("SlashingLikeAGaijin",1)
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
    PunchPrep:
        TNT1 A 0 A_JumpIfInventory("JetpackCooldown",1,"DashKick")
        TNT1 A 0 A_JumpIfInventory("JumpedUp",1,"AirKick")
        TNT1 A 0 A_Jump(255,"Punch1","Punch2","Punch3","Punch4")
        TNT1 A 1
        loop
    Punch1:
        TNT1 A 0 A_PlayWeaponSound("punchy/swing1")
        SHF1 AB 1
        TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0) // PUNCH PROJECTILES OUT OF THE AIR
        SHF1 C 1 A_FireCustomMissile("PunchAttack1",0,0,0,0,2) // Give it some autoaim buffs.
        //TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF1 D 1
        SHF1 E 1
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH | WRF_NOSECONDARY)
        goto Fired
    Punch2:
        TNT1 A 0 A_PlayWeaponSound("punchy/swing1")
        SHF2 AB 1
        TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF2 C 1 A_FireCustomMissile("PunchAttack1",0,0,0,0,2)
        //TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF2 D 1
        SHF2 E 1 //A_WeaponReady(WRF_NOSWITCH | WRF_NOSECONDARY)
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH | WRF_NOSECONDARY)
        goto Fired
    Punch3:
        TNT1 A 0 A_PlayWeaponSound("punchy/swing1")
        SHF3 AB 1
        TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF3 C 1 A_FireCustomMissile("PunchAttack1",0,0,0,0,2)
        //TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF3 DE 1
        SHF3 F 1 A_WeaponReady(WRF_NOSWITCH | WRF_NOSECONDARY)
        goto Fired
    Punch4:
        TNT1 A 0 A_PlayWeaponSound("punchy/swing1")
        SHF4 AB 1
        TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF4 C 1 A_FireCustomMissile("PunchAttack1",0,0,0,0,2)
        //TNT1 A 0 A_FireCustomMissile("KharonGuard",0,0)
        SHF4 DE 1
        SHF4 F 1 A_WeaponReady(WRF_NOSWITCH | WRF_NOSECONDARY)
        goto Fired
    AirKick:
        TNT1 A 0 A_JumpIfInventory("GrabbingTheWall",1,2)
        TNT1 A 0 A_Recoil(-8)
        TNT1 A 0
        MDRK ABC 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlayWeaponSound("punchy/swing4")
        TNT1 A 0 A_FireCustomMissile("KharonGuardReflect",0,0)
        TNT1 A 0 A_FireCustomMissile("PowerKickAttack",0,0,0,0,2)
        TNT1 A 0 A_SetAngle(angle-(random(3,8)))
        MDRK D 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MDRK EF 2 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        MDRK GHIJKLMNO 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 4
        goto Fired
    DashKick:
        TNT1 A 0 A_GiveInventory("PowerAttackStop",1)
        TR2L AB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("GrabbingTheWall",1,2)
        TNT1 A 0 A_Recoil(-10)
        TNT1 A 0
        TNT1 A 0 A_PlayWeaponSound("punchy/swing4")
        TR2L CDE 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_FireCustomMissile("KharonGuardReflect",0,0)
        TNT1 A 0 A_FireCustomMissile("DashKickAttack",0,0,0,0,2)
        TR2L F 10 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TR2L GHIJ 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 5
        goto Fired

    Fired:
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 10
        TNT1 A 0 A_ReFire
    Fired2:
        //TNT1 A 0 A_JumpIfInventory("SwordAttack",6,"HoldAttack")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 5
        //TNT1 A 50 A_WeaponReady//(WRF_NOSWITCH) ==== SPLIT
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 10
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 20
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 30
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 40
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 2 A_WeaponReady
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 50
        TNT1 A 0 A_TakeInventory("PunchComboCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_ClearRefire
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto FiredFinishEmpty
        TNT1 A 0
        TNT1 A 0
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto ReadyAmmo
    Fired3:
        //TNT1 A 0 A_JumpIfInventory("SwordAttack",6,"HoldAttack")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 5
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching")
        TNT1 A 1 A_WeaponReady(WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"CalledReloadFromPunching") // 10
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_ClearRefire
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto FiredFinishEmpty
        TNT1 A 0
        TNT1 A 0
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        Goto ReadyAmmo
    FiredFinishEmpty:
        W4GR VWXX 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyEmpty

    Hold:
        TNT1 A 1 A_WeaponReady(WRF_NOSECONDARY | WRF_NOSWITCH)
        TNT1 A 0 A_JumpIfInventory("DoubleTapLeft",1,"SideSpecialLeft")
        TNT1 A 0 A_JumpIfInventory("DoubleTapRight",1,"SideSpecialRight")
        TNT1 A 0 A_JumpIfInventory("DoubleTapForward",1,"ForwardSpecial")
        TNT1 A 0 A_JumpIfInventory("DoubleTapBack",1,"BackSpecial")
        //TNT1 A 0 A_JumpIfInventory("SynthAltFire",1,"GunSpecial")
        TNT1 A 0 A_Refire
        TNT1 A 0 A_ClearRefire
        TNT1 A 1 A_WeaponReady(WRF_NOSECONDARY | WRF_NOSWITCH)
        goto Fired2

    ForwardSpecial:
        TNT1 A 0 A_JumpIfInventory("HaggarModeOn",1,"SuperUppercut")
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"ConcussionMissile")
        TNT1 A 0 A_JumpIfInventory("TricksterModeOn",1,"GrappleBeam")
        TNT1 A 1
        loop
    SuperUppercut:
        TNT1 A 0 A_UnsetShootable
        TNT1 A 0 A_CheckFloor("UppercutOnFloor")
        TNT1 A 0 A_Recoil(-25)
        TNT1 A 0 ThrustThingZ(0,5,0,0)
        goto UppercutReady
    UppercutOnFloor:
        TNT1 A 0 A_Recoil(-35)
        TNT1 A 0 ThrustThingZ(0,85,1,1)
    UppercutReady:
        FSP3 ABCD 1
        FSP3 EE 2
        FSP3 DCBA 1
        TNT1 A 0
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_SetShootable
        TNT1 A 0 A_PlaySoundEx("specialpunch/uppercut","soundslot7",0,0)
        TNT1 A 0 A_SetPitch(pitch-1)
        FSP4 A 1
        TNT1 A 0 A_SetPitch(pitch-2)
        TMT1 A 0 A_JumpIfInventory("JustFrame",1,"JustFrameUppercut")
        TNT1 A 0 ThrustThingZ(0,40,0,0)
        FSP4 BC 1
        TNT1 A 0 A_SetPitch(pitch-4)
        TNT1 A 0
        FSP4 D 1 A_SpawnItemEx("DashUppercutExplosion",64,0,0,0,0,0,0,48)
        goto UppercutFinish
    JustFrameUppercut:
        TNT1 A 0 A_PlaySoundEx("shihong/attack","soundslot5",0,0)
        TNT1 A 0 A_PlaySoundEx("shihong/justframe","soundslot6",0,0)
        TNT1 A 0 A_SetBlend("white",0.4,4)
        TNT1 A 0 ThrustThingZ(0,60,0,0)
        FSP4 BC 1
        TNT1 A 0 A_SetPitch(pitch-4)
        TNT1 A 0
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        FSP4 D 1 A_SpawnItemEx("DashUppercutExplosionJF",64,0,0,0,0,0,0,48)
    UppercutFinish:
        FSP4 E 4
        TNT1 A 0 A_SetPitch(pitch+4)
        FSP4 F 2
        FSP4 G 1
        TNT1 A 0 A_SetPitch(pitch+2)
        FSP4 H 1
        TNT1 A 0 A_SetPitch(pitch+1)
        TNT1 A 1
        goto SpecialAttackFinish
    ConcussionMissile:
        TNT1 A 0
        TNT1 A 0 A_PlaySoundEx("missile/elec","soundslot5",0,0)
        SRP1 ABCD 2
        TNT1 A 0 A_PlaySoundEx("missile/transform","soundslot6",0,0)
        SRP1 E 2 bright
        SRP1 FGHIJK 2
        SRP2 A 5
        SRP2 BC 2
        TNT1 A 0 A_PlaySoundEx("missile/cock","soundslot5",0,0)
        SRP2 DEF 2
        SRP2 G 5
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 H 2 Bright
        SRP2 I 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,12,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-12,-8,0,frandom(-2,2))
        SRP2 J 2 Bright
        SRP2 K 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 L 2 Bright
        SRP2 M 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 N 2 Bright
        SRP2 O 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,12,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-12,-8,0,frandom(-2,2))
        SRP2 P 2
        SRP2 Q 2 Bright
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 R 2 Bright
        SRP2 S 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 T 2 Bright
        SRP2 U 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,12,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-12,-8,0,frandom(-2,2))
        SRP2 V 2 Bright
        SRP2 W 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-8,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,16,-8,0,frandom(-2,2))
        TNT1 A 0 A_FireCustomMissile("ConcussionMissile",frandom(-4,4),0,-16,-8,0,frandom(-2,2))
        SRP2 X 2 Bright
        SRP2 Y 2
        SRP2 Z 2
        SRP3 ABC 2
        TNT1 A 0 A_PlaySoundEx("missile/uncock","soundslot5",0,0)
        SRP3 DEFGH 1
        TNT1 A 0 A_PlaySoundEx("missile/steam","soundslot6",0,0)
        SRP3 IJKLM 2
        TNT1 A 0 A_PlayWeaponSound("missile/fire")
        TNT1 A 0 A_FireCustomMissile("FinishConcussionMissile",0,0,12,-8,0,0)
        TNT1 A 0 A_FireCustomMissile("FinishConcussionMissile",0,0,-12,-8,0,0)
        SRP3 N 1 Bright
        SRP3 OPQRST 2
        TNT1 A 0 A_PlaySoundEx("missile/untransform","soundslot5",0,0)
        TNT1 A 10
        goto SpecialAttackFinish
    GrappleBeam:
        //TNT1 A 0 A_JumpIfInventory("SuperMeterCounter",10,1)
        //goto SpecialAttackFinish
        TNT1 A 0
        TNT1 A 0 A_ClearRefire
        TNT1 A 2 A_FireBullets(0, 0, 1, 0, "GrapplePuff", 0, 1540)//1028)
        TNT1 AA 1 A_JumpIfInventory("GrappleHit",1,"GrappleSound")
        TNT1 A 15 A_PlayWeaponSound("claw/firemiss")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"GrappleBeam")
        TNT1 A 0 A_TakeInventory("PunchComboCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_ClearRefire
        SHF0 DCB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto SpecialAttackFinish
    GrappleSound:
        TNT1 A 0 A_PlayWeaponSound("claw/firehit")
        TNT1 A 0 ACS_ExecuteAlways(655, 0, ACS_ExecuteWithResult(657, 1), 2, 0)
        TNT1 A 0 A_TakeInventory("GrappleTIDIndicator",1)
        TNT1 A 0 A_TakeInventory("GrappleHit",1)
        //TNT1 A 0 A_TakeInventory("SuperMeterCounter",10)
        TNT1 A 0 A_GiveInventory("Grappling",1)
        TNT1 A 1
        TNT1 A 0 A_TakeInventory("KiMeterCounter",200)
        TNT1 A 0 A_TakeInventory("PunchComboCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_ClearRefire
        SHF0 DCB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto SpecialAttackFinish
    CancelGrapple:
        TNT1 A 0
        TNT1 A 0 A_TakeInventory("Grappling",1)
        TNT1 A 20 A_PlaySoundEx("claw/fireend","soundslot6",0,0)
        goto Ready

    SideSpecialLeft:
        TNT1 A 0 A_JumpIfInventory("HaggarModeOn",1,"SpinAttackLeft")
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"HomingMissilesLaunch")
        TNT1 A 0 A_JumpIfInventory("TricksterModeOn",1,"EMPulse")
        TNT1 A 1
        loop
    SpinAttackLeft:
        TNT1 A 0
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 1 A_SetAngle(angle+11.25)
        TNT1 A 1 A_SetAngle(angle+22.5)
        //TNT1 A 0 A_TakeInventory("SuperMeterCounter",20)
        TNT1 A 0 A_PlayWeaponSound("specialpunch/spinkick")
        //TNT1 A 0 A_PlaySoundEx("haelin/attack","soundslot6",0,0)
        TNT1 A 0 A_SpawnItemEx("LariatExplosion",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("ShockwaveSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_CheckFloor("SpinAttackLeftContinue")
        TNT1 A 0 ThrustThingZ(0,24,0,0)
    SpinAttackLeftContinue:
        FSP2 A 1 A_SetAngle(angle+45)
        FSP2 B 1 A_SetAngle(angle+50)
        FSP2 C 1 A_SetAngle(angle+55)
        FSP2 D 1 A_SetAngle(angle+55)
        FSP2 E 1 A_SetAngle(angle+50)
        FSP2 F 1 A_SetAngle(angle+45)
        FSP2 G 1 A_SetAngle(angle+22.5)
        TNT1 A 1 A_SetAngle(angle+11.25)
        TMT1 A 0 A_JumpIfInventory("JustFrame",1,"JustFrameSpinKickLeft")
        goto SpecialAttackFinish
    JustFrameSpinKickLeft:
        TNT1 A 0 A_PlaySoundEx("shihong/attack","soundslot5",0,0)
        TNT1 A 0 A_PlaySoundEx("shihong/justframe","soundslot6",0,0)
        TNT1 A 0 A_SetBlend("white",0.4,4)
        TNT1 A 0 A_PlayWeaponSound("specialpunch/spinkick")
        TNT1 A 0 A_SpawnItemEx("LariatExplosionJF",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("ShockwaveSpawner",0,0,0,0,0,0,0,32)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 A 0 A_CheckFloor("SpinAttackLeftContinueJF")
        TNT1 A 0 ThrustThingZ(0,24,0,0)
    SpinAttackLeftContinueJF:
        FSP1 G 1 A_SetAngle(angle+45)
        FSP1 F 1 A_SetAngle(angle+50)
        FSP1 E 1 A_SetAngle(angle+55)
        FSP1 D 1 A_SetAngle(angle+55)
        FSP1 C 1 A_SetAngle(angle+50)
        FSP1 B 1 A_SetAngle(angle+45)
        FSP1 A 1 A_SetAngle(angle+22.5)
        TNT1 A 1 A_SetAngle(angle+11.25)
        goto SpecialAttackFinish
    HomingMissilesLaunch:
        TNT1 A 0
        TNT1 A 0 A_PlaySoundEx("missile/elec","soundslot5",0,0)
        SSKM ABCD 2
        TNT1 A 0 A_PlaySoundEx("missile/transformlock","soundslot6",0,0)
        SSKM E 2 bright
        SSKM FGHIJK 2
        SSKM L 15
        TNT1 A 0 A_PlaySoundEx("missile/lockedon","soundslot6",0,0)
        SSKM MNN 2
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_PlayWeaponSound("supermissile/fire")
		TNT1 A 0 Radius_Quake(3,10,0,8,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-30,0,16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-50,0,16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,-16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",30,0,-16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",50,0,-16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,-16,16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-30,0,16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-50,0,16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,-16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",30,0,-16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",50,0,-16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,-16,0,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-30,0,16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-50,0,16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",10,0,-16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",30,0,-16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",50,0,-16,-16,0,0)
        TNT1 A 0 A_FireCustomMissile("HomingMissile",-10,0,-16,-16,0,0)
        SSKM OPQRSTU 2
        TNT1 A 0 A_PlaySoundEx("missile/untransform","soundslot5",0,0)
        TNT1 A 10
        goto SpecialAttackFinish
    EMPulse:
        SSHK A 2
        TNT1 A 0 A_PlayWeaponSound("idle/swing")
        SSHK BCD 2
        SSHK D 1
        SSHK EFG 2
        TNT1 A 0 A_PlayWeaponSound("combo/ready")
        SSHK H 2
        SSHK IJK 1
        TNT1 A 0 A_TakeInventory("KiMeterCounter",200)
        TNT1 A 0 A_PlayWeaponSound("special/empulse")
        TNT1 A 0 A_SetBlend("white",1.0,7)
        TNT1 A 0 A_SpawnItemEx("EMPulseExplode",0,0,32,0,0,0,0,48)
        SSHK LMNOPQRSTUV 1 bright
        SSHK WXYZ 2
        SHK2 ABCD 2
        TNT1 A 10
        goto SpecialAttackFinish

    SideSpecialRight:
        TNT1 A 0 A_JumpIfInventory("HaggarModeOn",1,"SpinAttackRight")
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"HomingMissilesLaunch")
        TNT1 A 0 A_JumpIfInventory("TricksterModeOn",1,"EMPulse")
        TNT1 A 1
        loop
    SpinAttackRight:
        TNT1 A 0
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 1 A_SetAngle(angle-11.25)
        TNT1 A 1 A_SetAngle(angle-22.5)
        //TNT1 A 0 A_TakeInventory("SuperMeterCounter",20)
        TNT1 A 0 A_PlayWeaponSound("specialpunch/spinkick")
        //TNT1 A 0 A_PlaySoundEx("haelin/attack","soundslot6",0,0)
        TNT1 A 0 A_SpawnItemEx("LariatExplosion",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("ShockwaveSpawner",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_CheckFloor("SpinAttackRightContinue")
        TNT1 A 0 ThrustThingZ(0,24,0,0)
    SpinAttackRightContinue:
        FSP1 A 1 A_SetAngle(angle-45)
        FSP1 B 1 A_SetAngle(angle-50)
        FSP1 C 1 A_SetAngle(angle-55)
        FSP1 D 1 A_SetAngle(angle-55)
        FSP1 E 1 A_SetAngle(angle-50)
        FSP1 F 1 A_SetAngle(angle-45)
        FSP1 G 1 A_SetAngle(angle-22.5)
        TNT1 A 1 A_SetAngle(angle-11.25)
        TMT1 A 0 A_JumpIfInventory("JustFrame",1,"JustFrameSpinKickRight")
        goto SpecialAttackFinish
    JustFrameSpinKickRight:
        TNT1 A 0 A_PlaySoundEx("shihong/attack","soundslot5",0,0)
        TNT1 A 0 A_PlaySoundEx("shihong/justframe","soundslot6",0,0)
        TNT1 A 0 A_SetBlend("white",0.4,4)
        //TNT1 A 0 A_TakeInventory("SuperMeterCounter",20)
        TNT1 A 0 A_PlayWeaponSound("specialpunch/spinkick")
        //TNT1 A 0 A_PlaySoundEx("haelin/attack","soundslot6",0,0)
        TNT1 A 0 A_SpawnItemEx("LariatExplosionJF",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("ShockwaveSpawner",0,0,0,0,0,0,0,32)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 A 0 A_CheckFloor("SpinAttackRightContinueJF")
        TNT1 A 0 ThrustThingZ(0,24,0,0)
    SpinAttackRightContinueJF:
        FSP2 G 1 A_SetAngle(angle-45)
        FSP2 F 1 A_SetAngle(angle-50)
        FSP2 E 1 A_SetAngle(angle-55)
        FSP2 D 1 A_SetAngle(angle-55)
        FSP2 C 1 A_SetAngle(angle-50)
        FSP2 B 1 A_SetAngle(angle-45)
        FSP2 A 1 A_SetAngle(angle-22.5)
        TNT1 A 1 A_SetAngle(angle-11.25)
        goto SpecialAttackFinish

    BackSpecial:
        TNT1 A 0 A_JumpIfInventory("HaggarModeOn",1,"GigatonPunch")
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"MineTrap")
        TNT1 A 0 A_JumpIfInventory("TricksterModeOn",1,"EngageCloakingMode")
        TNT1 A 1
        loop
    GigatonPunch:
        TNT1 A 0 A_PlayWeaponSound("gigaton/charge")
        TNT1 A 1
        FSP3 ABCCDDD 1
        FSP3 E 7
        TMT1 A 0 A_JumpIfInventory("JustFrame",1,"JustFrameGigatonHammer")
        FSP3 DDDCCBA 1
        TNT1 A 1
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_Recoil(-2)
        TNT1 A 0 A_PlaySoundEx("gigaton/fire","SoundSlot6",0,0)
        TNT1 A 0 A_PlaySoundEx("gigaton/swing","SoundSlot7",0,0)
        FSP5 A 1
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_FireCustomMissile("GigatonPunch",0,0)
        FSP5 B 1
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        FSP5 C 1
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit")
        TNT1 A 0 A_SetAngle(angle+1.25)
        FSP5 D 1
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit")
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_SetAngle(angle+1.25)
        FSP5 E 1
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit")
        FSP5 F 1
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit")
        TNT1 AA 1 A_JumpIfInventory("FistHit",1,"GigaHit")
        goto SpecialAttackFinish
    JustFrameGigatonHammer:
        TNT1 A 0 A_PlaySoundEx("shihong/attack","soundslot5",0,0)
        TNT1 A 0 A_PlaySoundEx("shihong/justframe","soundslot6",0,0)
        TNT1 A 0 A_PlayWeaponSound("gigaton/jfcharge")
        TNT1 A 0 A_SetBlend("white",0.4,4)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark2",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        TNT1 AAAAAAAAAAAAAAAAAAAA 0 A_SpawnItemEx("ElecSpark3",random(-5,5),random(-5,5),0,random(-400,400)/100.00,random(-400,400)/100.00,random(0,400)/100.00,random(-180,180),128,0)
        FSP5 LMNOPPPQRSTUV 1
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_Recoil(-4)
        TNT1 A 0 A_PlaySoundEx("gigaton/fire","SoundSlot6",0,0)
        TNT1 A 0 A_PlaySoundEx("gigaton/swing","SoundSlot7",0,0)
        FSP5 W 1 Bright
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_FireCustomMissile("GigatonHammer",0,0)
        FSP5 X 1 Bright
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        FSP5 Y 1 Bright
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit2")
        TNT1 A 0 A_SetAngle(angle+1.25)
        FSP5 Z 1 Bright
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit2")
        TNT1 A 0 A_FireCustomMissile("IronFistGuard",0,0) 
        TNT1 A 0 A_SetAngle(angle+1.25)
        FSP5 [ 1 Bright
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit2")
        FSP5 ] 1 Bright
        TNT1 A 0 A_JumpIfInventory("FistHit",1,"GigaHit2")
        TNT1 AA 1 A_JumpIfInventory("FistHit",1,"GigaHit2")
        goto SpecialAttackFinish
    GigaHit2:
        TNT1 A 0 A_SetBlend("white",0.5,8)
        TNT1 A 0 ACS_ExecuteAlways(WEEB_DECORATE,0,WEEB_DEC_FREEZE2,0,0)
        FSP5 GHI 1 Radius_Quake(8,20,0,16,0)
        FSP5 J 1 A_Recoil(10)
        TNT1 A 0 ACS_ExecuteAlways(WEEB_DECORATE,0,WEEB_DEC_UNFREEZE2,0,0)
        goto GigaHitFinish
    GigaHit:
        TNT1 A 0 ACS_ExecuteAlways(WEEB_DECORATE,0,WEEB_DEC_FREEZE2,0,0)
        FSP5 GHI 1 Radius_Quake(6,20,0,16,0)
        FSP5 J 1 A_Recoil(8)
        TNT1 A 0 ACS_ExecuteAlways(WEEB_DECORATE,0,WEEB_DEC_UNFREEZE2,0,0)
    GigaHitFinish:
        FSP5 K 1
        FSP5 L 1 A_TakeInventory("FistSwung",1)
        TNT1 A 0 A_TakeInventory("FistHit",1)
        //TNT1 A 4
        TNT1 A 2
        goto SpecialAttackFinish
    EngageCloakingMode:
        TNT1 A 0 A_TakeInventory("KiMeterCounter",200)
        SHCL ABC 1
        SHCL DEFGHI 2
        SHCL J 3 A_PlayWeaponSound("stealth/button")
        SHCL KLL 1
        SHCL M 3 A_PlayWeaponSound("stealth/button")
        SHCL NOPPQQ 1
        TNT1 A 0 A_SetBlend("White",0.75,35)
        SHCL R 3 A_PlayWeaponSound("stealth/engage")
        SHCL STUV 2
        SHCL WXYZ 1
        SHCL "[" 1
        TNT1 AA 0 A_GiveInventory("ShadowCloak",1)
        TNT1 A 3
        goto SpecialAttackFinish
    MineTrap:
        TNT1 A 0
        TNT1 A 0 A_PlaySoundEx("missile/elec","soundslot5",0,0)
        SMNL ABCD 2
        TNT1 A 0 A_PlaySoundEx("missile/transform","soundslot6",0,0)
        SMNL E 2 bright
        SMNL FGHIJKL 2
        SMNL M 15
        TNT1 A 0 A_TakeInventory("KiMeterCounter",300)
        TNT1 A 0 A_PlayWeaponSound("mine/fire")
        TNT1 AAAAA 0 A_FireCustomMissile("ProxyMinePrepare",frandom(-12,12),0,8,-2,0,frandom(-8,8))
        TNT1 AAAAA 0 A_FireCustomMissile("ProxyMinePrepare",frandom(-12,12),0,-8,-2,0,frandom(-8,8))
        SMNL N 2 Bright
        SMNL OPQRST 2
        TNT1 A 0 A_PlaySoundEx("missile/untransform","soundslot5",0,0)
        TNT1 A 10
        goto SpecialAttackFinish

    SpecialAttackFinish:
        TNT1 A 0 A_TakeInventory("PunchComboCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("KharonSwung",1)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_TakeInventory("DoubleTapBack", 1)
        TNT1 A 0 A_TakeInventory("DoubleTapLeft", 1)
        TNT1 A 0 A_TakeInventory("DoubleTapRight", 1)
        TNT1 A 0 A_TakeInventory("DoubleTapForward", 1)
        TNT1 A 0 A_ClearRefire
        goto Fired3

    AltFire:
        TNT1 A 0
        TNT1 A 0 A_JumpIfInventory("SlashingLikeAGaijin",1,"AltFirePrepare")
        TNT1 A 0 A_JumpIfInventory("ShootingLikeABaka",1,"AltFireGun")
        TNT1 A 0 A_GiveInventory("ShootingLikeABaka",1)
        goto AltFireGun
    AltFirePrepare:
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_TakeInventory("PunchComboCounter",4)
        TNT1 A 0 A_GiveInventory("ShootingLikeABaka",1)
        TNT1 A 1
    AltFireGunPrepare:
        TNT1 A 0 A_JumpIfNoAmmo("Nope")
        TNT1 A 0 A_PlayWeaponSound("grenade/armed")
        TNT1 A 2
        goto AltFireHold
    AltFireGun:
        TNT1 A 0 A_JumpIfNoAmmo("Nope")
        TNT1 A 0 A_PlayWeaponSound("grenade/armed")
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 2
    AltFireHold:
        TNT1 A 1 A_GiveInventory("GrenadeTimer",1)
        TNT1 A 0 A_JumpIfInventory("GrenadeTimer",115,"AltFireHoldAlert") // Just a little over three seconds.
        TNT1 A 0 A_JumpIfInventory("GrenadeTimer",0,"Explode")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"GrenadePunch2")
        TNT1 A 0 A_Refire("AltFireHold")
    AltFireHoldFinish:
        TNT1 A 0 A_ClearRefire
        TNT1 A 0 A_TakeInventory("GrenadeTimer",0x7FFFFFFF)
        W4GR EF 1
        W4GR G 1 A_PlaySoundEx("grenade/throwweak","soundslot5",0,0)
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"AltFireGunTracer")
        TNT1 A 0 A_FireCustomMissile("ThrownGrenade",0,1,0,-6,0,12)
        goto AltFireHoldFinish2
    AltFireGunTracer:
        TNT1 A 0 A_FireCustomMissile("ThrownGrenadeTracer",0,1,0,-6,0,12)
    AltFireHoldFinish2:
        W4GR HI 2 // Sup
        W4GR JK 1
        TNT1 A 4
        TNT1 A 0 A_JumpIfNoAmmo("GotoReadyEmpty")
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    AltFireHoldAlert:
        TNT1 A 0 A_PlayWeaponSound("grenade/alert")
    AltFireHoldAlert2:
        TNT1 A 1 A_GiveInventory("GrenadeTimer",1)
        TNT1 A 0 A_JumpIfInventory("GrenadeTimer",0,"Explode")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"GrenadePunch2")
        TNT1 A 0 A_Refire("AltFireHoldAlert2")
        TNT1 A 1 // A buffer, just in case.
        goto AltFireHoldFinish
    AltFire2:
        TNT1 A 0 A_JumpIfNoAmmo("AltFire3")
        TNT1 A 0 A_PlayWeaponSound("grenade/armed")
        W4GR BBCD 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
    AltFire2B:
        TNT1 A 1
        W4GR LMNNO 1
    AltFireHold2:
        W4GR O 1 A_GiveInventory("GrenadeTimer",1)
        TNT1 A 0 A_JumpIfInventory("GrenadeTimer",115,"AltFireHold2Alert")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"GrenadePunch")
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"AltFireHold2")//A_Refire("AltFireHold2")
    AltFireHold2Finish:
        TNT1 A 0 A_TakeInventory("GrenadeTimer",0x7FFFFFFF)
        W4GR ONNML 1
        TNT1 A 1
        TNT1 A 0 A_PlaySoundEx("grenade/throwstrong","soundslot5",0,0)
        W4GR P 2
        W4GR Q 1
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"AltFireGunTracer2")
        TNT1 A 0 A_FireCustomMissile("ThrownGrenade2",0,0,0,0,0,3)
        goto AltFireHold2Finish2
    AltFireGunTracer2:
        TNT1 A 0 A_FireCustomMissile("ThrownGrenade2Tracer",0,0,0,0,0,3)
    AltFireHold2Finish2:
        TNT1 A 0 A_TakeInventory("WeebRocket",1)
        W4GR RSTU 1
        TNT1 A 4
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        // A_JumpIfNoAmmo doesn't check for alt-fire ammo if primary fire was hit first beforehand.
        // Because the player was brought to this state with an extra key rather than altfire, it
        // would check for primary fire's ammo. Instead, I do an A_JumpIfInventory to check for
        // ammo instead.
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    AltFireHold2Alert:
        TNT1 A 0 A_PlayWeaponSound("grenade/alert")
    AltFireHold2Alert2: // 2fast2furious
        W4GR O 1 A_GiveInventory("GrenadeTimer",1)
        TNT1 A 0 A_JumpIfInventory("GrenadeTimer",0,"Explode2")
        TNT1 A 0 A_JumpIfInventory("SynthFire",1,"GrenadePunch")
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"AltFireHold2Alert2")
        W4GR O 1
        goto AltFireHold2Finish
    Nope:
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 0 A_PlaySoundEx("grenade/nope","soundslot7",0,0)
        TNT1 A 7 //A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto GotoReadyEmpty
    AltFired:
        TNT1 A 0 A_TakeInventory("KharonSwung",1)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        //TNT1 A 0 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_ClearRefire
        W4GR A 1
        Goto Ready
    Explode:
        TNT1 A 0
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_TakeInventory("WeebRocket",1)
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 A 0 A_PlayWeaponSound("grenade/explode")
        TNT1 A 0 A_SpawnItemEx("ExodusRocketDeathSFX",16,0,32,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("ExodusShockwave",16,0,32,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("EnforcerSelfExplodeDamage",0,0,32,0,0,0,0,48)
        TNT1 A 0 Radius_Quake(4,3,0,16,0)
        TNT1 A 0 A_Recoil(3)
        TNT1 A 0 A_ClearRefire
        TNT1 A 15 A_TakeInventory("GrenadeTimer",0x7FFFFFFF)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    Explode2:
        TNT1 A 0
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_TakeInventory("WeebRocket",1)
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 A 0 A_PlayWeaponSound("grenade/explode")
        TNT1 A 0 A_SpawnItemEx("ExodusRocketDeathSFX",16,0,32,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("ExodusShockwave",16,0,32,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("EnforcerSelfExplodeDamage",0,0,32,0,0,0,0,48)
        TNT1 A 0 Radius_Quake(4,3,0,16,0)
        TNT1 A 0 A_Recoil(3)
        TNT1 A 0 A_ClearRefire
        W4GR ONNML 1
        TNT1 A 10 A_TakeInventory("GrenadeTimer",0x7FFFFFFF)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    GotoReadyEmpty:
        TNT1 A 1 A_TakeInventory("ShootingLikeABaka",1)
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1) // It's already taken, but just in case.
        W4GR VWXX 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyEmpty

    AltFire3:
        W4GR XXWV 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        TNT1 A 1
        TNT1 A 0 A_JumpIfInventory("RangedModeOn",1,"AltFire3b")
        TNT1 A 5
        goto GotoReadyEmpty
    AltFire3b:
        W4GR LMNNO 1
    AltFireHold3:
        W4GR O 1
        TNT1 A 0 A_JumpIfInventory("TimeToLaunchOctopus",1,"AltFireHold3")//A_Refire("AltFireHold2")
        W4GR ONNML 1
        TNT1 A 1
        TNT1 A 0 A_PlaySoundEx("grenade/throwstrong","soundslot5",0,0)
        W4GR P 2
        W4GR Q 1
        TNT1 A 0 A_Jump(255,"ThrowRock1","ThrowRock2","ThrowRock3","ThrowRock4","ThrowSqueakyBall","ThrowBaseball","ThrowStimpack","ThrowCan","ThrowShoe","ThrowCup","ThrowDuck","ThrowChinese","ThrowWan","ThrowAnime")
        W4GR Q 1
    ThrowSqueakyBall:
        TNT1 A 0 A_FireCustomMissile("SqueakyBall",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowBaseball:
        TNT1 A 0 A_FireCustomMissile("Baseball",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowRock1:
        TNT1 A 0 A_FireCustomMissile("ThrownRock1",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowRock2:
        TNT1 A 0 A_FireCustomMissile("ThrownRock2",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowRock3:
        TNT1 A 0 A_FireCustomMissile("ThrownRock3",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowRock4:
        TNT1 A 0 A_FireCustomMissile("ThrownRock4",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowStimpack:
        TNT1 A 0 A_FireCustomMissile("ThrownStimpack",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowCan:
        TNT1 A 0 A_FireCustomMissile("ThrownCan",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowShoe:
        TNT1 A 0 A_FireCustomMissile("ThrownShoe",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowCup:
        TNT1 A 0 A_FireCustomMissile("ThrownCup",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowDuck:
        TNT1 A 0 A_FireCustomMissile("RubberDucky",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowChinese:
        TNT1 A 0 A_FireCustomMissile("ChineseCanister",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowWan:
        TNT1 A 0 A_FireCustomMissile("ThrownWan",0,0,0,0,0,3)
        goto AltFireHold3Finish
    ThrowAnime:
        TNT1 A 0 A_FireCustomMissile("ThrownAnime",0,0,0,0,0,3)
        goto AltFireHold3Finish
    AltFireHold3Finish:
        W4GR RSTU 1
        TNT1 A 4
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        // A_JumpIfNoAmmo doesn't check for alt-fire ammo if primary fire was hit first beforehand.
        // Because the player was brought to this state with an extra key rather than altfire, it
        // would check for primary fire's ammo. Instead, I do an A_JumpIfInventory to check for
        // ammo instead.
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo

    CalledReloadFromPunching:
        TNT1 A 0
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_PlayWeaponSound("grenade/armed")
        TNT1 A 0 A_TakeInventory("PunchComboCounter",0x7FFFFFFF)
        TNT1 A 0 A_TakeInventory("SlashingLikeAGaijin",1)
        TNT1 A 0 A_ClearRefire
        goto AltFire2B

    GrenadePunch:
        W4GR O 1
        W4GR ONNML 1
    GrenadePunch2:
        TNT1 A 1
        TNT1 A 0 A_TakeInventory("GrenadeTimer",0x7FFFFFFF)
        TNT1 A 1 A_ClearRefire
        TNT1 A 0 A_PlaySoundEx("hammer/swing","soundslot5",0,0)
        W4G2 A 1
        W4G2 B 1 A_FireCustomMissile("GrenadePunch",0,0,0,0,0,3)
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4G2 C 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4G2 D 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4G2 E 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4G2 F 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4G2 G 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall") // 2
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall") // 4
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall") // 6
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall") // 8
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall")
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        TNT1 A 1 A_JumpIfInventory("GrenadePunchHitWall",1,"GrenadePunchWall") // 10
        TNT1 A 0 A_JumpIfInventory("GrenadePunchHit",1,"GrenadePunchHit")
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    GrenadePunchWall:
        TNT1 A 0 A_SetAngle(angle+(random(-400,400)/1000.000))
        TNT1 A 0 A_Recoil(0.5)
        W4G2 O 1 A_SetPitch(pitch+(150)/100.00)
        W4G2 PQ 1 A_SetPitch(pitch-(75)/100.00)
        W4G2 C 2
        W4G2 RSTU 2
        TNT1 AAAAA 2 A_TakeInventory("GrenadePunchHitWall",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    GrenadePunchHit:
        TNT1 A 0 A_AlertMonsters
        TNT1 A 0 A_TakeInventory("GrenadeInHand",1)
        TNT1 A 0 A_PlaySoundEx("hammer/hit","soundslot5",0,0)
        TNT1 A 0 A_PlaySoundEx("grenade/explode","soundslot6",0,0)
        TNT1 A 0 Radius_Quake(5,5,0,16,0)
        TNT1 A 0 A_Recoil(6)
        W4G2 HIJK 1
        W4G2 H 2
        W4G2 LMN 2
        TNT1 AAAAA 2 A_TakeInventory("GrenadePunchHit",1)
        TNT1 A 0 A_JumpIfInventory("WeebRocket",1,2)
        goto GotoReadyEmpty
        TNT1 A 0
        TNT1 A 0
        TNT1 A 0 A_GiveInventory("GrenadeInHand",1)
        W4GR DCBB 1 A_WeaponReady(WRF_NOFIRE | WRF_NOSWITCH)
        goto ReadyAmmo
    }
}

actor ThrownGrenade
{
    Radius 5
    Height 5
    Speed 25
    Damage (30)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive" // Different from EnforcerDamage, so as to keep two grenades physically hitting each other to go off.
    Gravity 0.6
    Scale 0.325
    BounceFactor 0.3
    +HEXENBOUNCE
    +CANBOUNCEWATER
    +RANDOMIZE
    +DEHEXPLOSION
    +MOVEWITHSECTOR
    ReactionTime 105//92 - Increased to 105 for a three-second countdown.
    SeeSound "grenade/bounce"
    DeathSound "grenade/explode"
    // Now let's make this sucker shootable.
    Health 5
    +NOBLOOD
    +SHOOTABLE
    -NOBLOCKMAP
    +NOTELEPORT
    -TELESTOMP
    +THRUGHOST
    +THRUSPECIES
    +SKYEXPLODE
    Species "EnemyShot"
    DamageFactor "Normal", 0.0
    DamageFactor "StrikerDamage", 1.0
    DamageFactor "RebellionDamage", 1.0
    DamageFactor "AvengerDamage", 1.0
    DamageFactor "EnforcerDamage", 1.0 
    DamageFactor "StrikerDamageStyle", 1.0
    DamageFactor "RebellionDamageStyle", 1.0
    DamageFactor "AvengerDamageStyle", 1.0
    DamageFactor "EnforcerDamageStyle", 1.0 
    Obituary "%k fed %o to the dragon."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_Recoil(-1)  // to stop the "freeze in midair" bug from happening
        TNT1 A 0 A_PlaySound("silence", CHAN_VOICE)
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        goto SpawnLoop
    SpawnLoop:
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD B 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD B 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD C 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD C 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD D 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD D 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD E 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD E 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD F 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD F 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD G 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        GNAD G 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail",(32*momx)/-35.0,-(32*momy)/-35.0,6+(32*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        //TNT1 A 0 A_SpawnItemEx("EnforcerTrail",0,0,0,0,0,0,0,160)
        loop
    StopSpawnStart:
        goto StopSpawn
    StopSpawn:
        GNAD A 1 A_Stop
        TNT1 A 0 A_Countdown
        loop
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx("ExodusRocketDeathSFX",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("ExodusShockwave",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeDamage",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeDamage2",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeJumpage",0,0,0,0,0,0,0,48)
        TNT1 A 0 Radius_Quake(4,3,0,8,0)
        TNT1 A 1
        stop
    XDeath:
        TNT1 A 0
        TNT1 A 0 A_GiveToTarget("KiMeterCounter",4)
        TNT1 A 0 A_GiveToTarget("HyperComboCounter",4)
        goto Death
    }
}

actor ThrownGrenadeTracer : ThrownGrenade
{
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_Recoil(-1)
        TNT1 A 0 A_PlaySound("silence", CHAN_VOICE)
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        goto SpawnLoop
    SpawnLoop:
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD A 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD B 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD B 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD C 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD C 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD D 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD D 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD E 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD E 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD F 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD F 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD G 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        GNAD G 1 A_JumpIf(ACS_ExecuteWithResult(583, momx, momy, momz) < 1, "StopSpawnStart")
        TNT1 A 0 A_Countdown
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",0,0,6,0,0,0,0,160)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(8.5*momx)/-35.0,-(8.5*momy)/-35.0,6+(8.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(17*momx)/-35.0,-(17*momy)/-35.0,6+(17*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        TNT1 A 0 A_SpawnItemEx("EnforcerLightTrail2",(24.5*momx)/-35.0,-(24.5*momy)/-35.0,6+(24.5*momz)/-35.0, 0,0,0, 0, SXF_ABSOLUTEANGLE | SXF_NOCHECKPOSITION)
        loop
    StopSpawnStart:
        goto StopSpawn
    StopSpawn:
        GNAD A 1 A_Stop
        TNT1 A 0 A_Countdown
        loop
    Death:
        TNT1 A 0
        TNT1 A 0 A_SpawnItemEx("ExodusRocketDeathSFX",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("ExodusShockwave",0,0,0,0,0,0,0,32)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeDamageStyle",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeDamage2Style",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeJumpage",0,0,0,0,0,0,0,48)
        TNT1 A 0 Radius_Quake(4,3,0,8,0)
        TNT1 A 1
        stop
    XDeath:
        TNT1 A 0
        TNT1 A 0 A_GiveToTarget("KiMeterCounter",8)
        TNT1 A 0 A_GiveToTarget("HyperComboCounter",7)
        goto Death
    }
}

actor ThrownGrenade2 : ThrownGrenade { Damage (35) Speed 55 }
actor ThrownGrenade2Tracer : ThrownGrenadeTracer { Damage (35) Speed 55 }

actor EnforcerLightTrail
{
    +CLIENTSIDEONLY
    +NOINTERACTION
    RenderStyle Add
    Scale 0.015
    Alpha 0.9
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 1
        PTCL A 5 Bright
    Spawn2:
        PTCL A 1 Bright A_FadeOut(0.05)
        loop
    }
}

actor EnforcerLightTrail2
{
    +CLIENTSIDEONLY
    +NOINTERACTION
    RenderStyle Add
    Scale 0.015
    Alpha 0.9
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 1
        PTCL B 5 Bright
    Spawn2:
        PTCL B 1 Bright A_FadeOut(0.05)
        loop
    }
}

ACTOR EnforcerExplodeDamage
{
    Radius 1
    Height 1
    Speed 0
    +NOCLIP
    -SOLID
    +DONTBLAST
    +EXTREMEDEATH
    DamageType "EnforcerDamage"
    Obituary "%k fed %o to the dragon."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 1 A_Explode(64,192,0)
        Stop
    }
}

ACTOR EnforcerExplodeDamageStyle
{
    Radius 1
    Height 1
    Speed 0
    +NOCLIP
    -SOLID
    +DONTBLAST
    +EXTREMEDEATH
    DamageType "EnforcerDamageStyle"
    Obituary "%k fed %o to the dragon."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 1 A_Explode(64,192,0)
        Stop
    }
}

actor EnforcerExplodeDamage2 : EnforcerExplodeDamage { +FORCERADIUSDMG -EXTREMEDEATH }
actor EnforcerExplodeDamage2Style : EnforcerExplodeDamageStyle { +FORCERADIUSDMG -EXTREMEDEATH }

ACTOR EnforcerSelfExplodeDamage
{
    Radius 1
    Height 1
    Speed 0
    +NOCLIP
    -SOLID
    +DONTBLAST
    +EXTREMEDEATH
    +FORCERADIUSDMG
    DamageType "EnforcerDamage"
    Obituary "%k fed %o to the dragon."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 1 A_Explode(320,320,0)
        Stop
    }
}

ACTOR EnforcerExplodeJumpage
{
    Radius 1
    Height 1
    Speed 0
    +NOCLIP
    +FORCERADIUSDMG
    +BLOODLESSIMPACT
    +SKYEXPLODE
    +EXPLODEONWATER
    -SOLID
    +DONTBLAST
    DamageType "ExodusJump"
    Obituary "%k shouldn't have killed %o with this."
    States
    {
      Spawn:
        TNT1 A 0
        TNT1 A 1 A_Explode(80,192,1)
        Stop
    }
}

actor GrenadePunch : FastProjectile
{
    Radius 8
    Height 6
    Damage (80)
    Speed 80
    RenderStyle Add
    Alpha 0.6
    Scale 0.65
    SeeSound "none"
    DeathSound "none"
    Species "EnemyShot"
    DamageType "EnforcerPunch"
    Projectile
    +BLOODSPLATTER
    +THRUSPECIES
    +THRUGHOST
    +SKYEXPLODE
    +EXPLODEONWATER
    +EXTREMEDEATH
    Obituary "%k fed %o to the dragon."
    States
    {
    Spawn:
        TNT1 A 1
        stop
    Death:
    Crash:
        TNT1 A 0
        TNT1 A 0 A_Stop
        TNT1 A 0 A_GiveToTarget("GrenadePunchHitWall",1)
        TNT1 A 0 A_PlaySound("hammer/wall")
        FHFX SS 1  
        FHFX TU 2
        FHFX VW 3
        stop
    XDeath:
        TNT1 A 0
        TNT1 A 0 A_Stop
        TNT1 A 0 A_GiveToTarget("GrenadePunchHit",1)
        TNT1 A 0 A_TakeFromTarget("WeebRocket",1)
        TNT1 A 0 A_SpawnItemEx("ExodusRocketDeathSFX")
        TNT1 A 0 A_SpawnItemEx("ExodusShockwave",0,0,0,0,0,0,0,32)
        TNT1 AA 0 A_SpawnItemEx("EnforcerExplodeDamage",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeDamage2",0,0,0,0,0,0,0,48)
        TNT1 A 0 A_SpawnItemEx("EnforcerExplodeJumpage",0,0,0,0,0,0,0,48)
        TNT1 A 0 Radius_Quake(4,3,0,8,0)
        TNT1 A 0 A_GiveToTarget("KiMeterCounter",6)
        TNT1 A 0 A_GiveToTarget("HyperComboCounter",7)
        TNT1 A 1
        stop
    }
}

actor SqueakyBall
{
    Radius 3
    Height 3
    Speed 65
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.45
    Scale 0.55
    BounceFactor 1.0
    WallBounceFactor 1.0
    BounceCount 30 // Heh.
    +HEXENBOUNCE
    +CANBOUNCEWATER
    +ALLOWBOUNCEONACTORS
    +BOUNCEONACTORS
    +MOVEWITHSECTOR
    //+THRUGHOST // Heh.
    +THRUSPECIES
    +FORCEPAIN
    //+BLOODLESSIMPACT
    SeeSound "ball/squeak"
    DeathSound "ball/squeak"
    Species "EnemyShot"
    Obituary "%k killed %o with a squeaky ball. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_PlaySound("silence", CHAN_VOICE)
        SQBL A 1
    SpawnLoop:
        SQBL A 1
        loop
    Death:
        SQBL A 3500
        SQBL AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor Baseball
{
    Radius 3
    Height 3
    Speed 75
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.3
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a baseball. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        BASB ABCD 3
        loop
    Death:
        BASB A 3500
        BASB AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownRock1
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.7
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a rock. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        RCK1 A 1
        loop
    Death:
        RCK1 A 3500
        RCK1 AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownRock2
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.45
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a rock. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        RCK2 A 1
        loop
    Death:
        RCK2 A 3500
        RCK2 AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownRock3
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.4
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a rock. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        RCK3 A 1
        loop
    Death:
        RCK3 A 3500
        RCK3 AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownRock4
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.25
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a rock. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        RCK4 A 1
        loop
    Death:
        RCK4 A 3500
        RCK4 AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownShoe
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.9
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "baseball/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a shoe. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        SHOE A 1
        loop
    Death:
        SHOE A 3500
        SHOE AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownCup
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.9
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "cup/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a cup. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        CUPP A 1
        loop
    Death:
        CUPP A 3500
        CUPP AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownAnime //: FastProjectile
{
    Radius 3
    Height 3
    Speed 100
    Damage (5)
    Projectile
    DamageType "Knife"
    XScale 0.05
    YScale 0.0075
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "daki/pain"
    Species "EnemyShot"
    Obituary "%k killed %o with an anime DVD. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        ANIM E 1
        loop
    Death:
        TNT1 A 0
        TNT1 A 0 A_Gravity
        ANIM E 3500
        ANIM EEEEEEEEEE 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownStimpack
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.75
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "stimpack/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a stimpack. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        STPK A 1
        loop
    Death:
        STPK A 3500
        STPK AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ChineseCanister
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.35
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "stimpack/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a chinese canister. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        CHCN A 1
        loop
    Death:
        CHCN A 3500
        CHCN AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownWan
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.5
    Scale 0.25
    +MOVEWITHSECTOR
    +THRUSPECIES
    +FORCEPAIN
    DeathSound "wan/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with a plushie. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        WANN A 1
        loop
    Death:
        WANN A 3500
        WANN AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor ThrownCan
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.75
    Scale 0.75
    BounceFactor 0.5
    WallBounceFactor 0.5
    BounceCount 5
    +HEXENBOUNCE
    +CANBOUNCEWATER
    +ALLOWBOUNCEONACTORS
    +BOUNCEONACTORS
    +MOVEWITHSECTOR
    //+THRUGHOST // Heh.
    +THRUSPECIES
    +FORCEPAIN
    //+BLOODLESSIMPACT
    SeeSound "can/hit"
    DeathSound "can/hit"
    Species "EnemyShot"
    Obituary "%k killed %o with an aluminum can. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_PlaySound("silence", CHAN_VOICE)
        TCAN A 1
    SpawnLoop:
        TCAN A 1
        loop
    Death:
        TCAN A 3500
        TCAN AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}

actor RubberDucky
{
    Radius 3
    Height 3
    Speed 60
    Damage (5)
    Projectile
    -NOGRAVITY
    DamageType "EnforcerExplosive"
    Gravity 0.75
    Scale 0.6
    BounceFactor 0.5
    WallBounceFactor 0.5
    BounceCount 5
    +HEXENBOUNCE
    +CANBOUNCEWATER
    +ALLOWBOUNCEONACTORS
    +BOUNCEONACTORS
    +MOVEWITHSECTOR
    //+THRUGHOST // Heh.
    +THRUSPECIES
    +FORCEPAIN
    //+BLOODLESSIMPACT
    SeeSound "ball/squeak"
    DeathSound "ball/squeak"
    Species "EnemyShot"
    Obituary "%k killed %o with a rubber ducky. How humiliating! Everyone point and laugh."
    States
    {
    Spawn:
        TNT1 A 0
        TNT1 A 0 A_PlaySound("silence", CHAN_VOICE)
        DUCK A 1
    SpawnLoop:
        DUCK A 1
        loop
    Death:
        DUCK A 3500
        DUCK AAAAAAAAAA 1 A_FadeOut(0.1)
        stop
    }
}